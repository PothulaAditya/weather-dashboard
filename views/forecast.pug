extends layout

block content
  .row.justify-content-center
    .col-10
      if error
        p.fw-semibold.text-danger #{error}
        form(method='get' action='/forecast' class='row g-2 mt-3')
          .col-9
            input.form-control(type='text' name='city' value=query placeholder='Try another city, e.g. Secunderabad,IN' required)
          .col-3
            button.btn.btn-primary.w-100(type='submit') Search
      else
        .d-flex.justify-content-between.align-items-center.mb-3
          h3.mb-0 #{location}
          .d-flex.gap-2
            a.btn.btn-outline-secondary(href='/') Home
            a.btn.btn-secondary(href=`/?city=${encodeURIComponent(query || location)}`) Current weather
        if source === 'static'
          .alert.alert-info.py-2 Static snapshot forecast shown (no live data available).
        if !days || !days.length
          .alert.alert-warning No forecast data available right now.
        else
          .row.g-3
            each day in days
              .col-xl-2.col-lg-3.col-md-4.col-6
                .card.text-center.shadow-sm.h-100
                  .card-body.d-flex.flex-column.justify-content-center.align-items-center
                    if day.icon
                      img.mb-2(src=day.icon alt=day.condition style='width:64px;height:64px')
                    h6.mb-1 #{day.date}
                    p.mb-1.fs-5
                      if day.temp === null || day.temp === undefined
                        | —
                      else
                        | #{day.temp}°C
                    small.text-capitalize.text-muted #{day.condition}
